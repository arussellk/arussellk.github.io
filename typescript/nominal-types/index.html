<!doctype html><html lang=en><head><meta charset=utf-8><title>Nominal Types</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/favicon-32.png sizes=32x32><link rel=apple-touch-icon href=/images/favicon-180.png sizes=180x180><link rel=stylesheet href=/css/main.css></head><body><div class=main><p><a href=/>home</a></p><h1>Nominal Types</h1><p>TypeScript uses structural subtyping.
This means that any type that fits the shape of a different type is compatible.
When using nominal types, on the other hand, two types are considered distinct and incompatible types
even if they have the same underlying representation.</p><p>Here is a reasonably readable and usable way to have a form of nominal types in TypeScript:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#cf222e>type</span> <span style=color:#1f2328>FooId</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>string</span> <span style=color:#0550ae>&amp;</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>__tag</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;FooId&#39;</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>type</span> <span style=color:#1f2328>BarId</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>string</span> <span style=color:#0550ae>&amp;</span> <span style=color:#1f2328>{</span> <span style=color:#1f2328>__tag</span><span style=color:#0550ae>:</span> <span style=color:#0a3069>&#39;BarId&#39;</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>isFooId</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>fooId</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>fooId</span> <span style=color:#cf222e>is</span> <span style=color:#1f2328>FooId</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#0a3069>/^[0-9a-f]{8}$/</span><span style=color:#1f2328>.</span><span style=color:#1f2328>test</span><span style=color:#1f2328>(</span><span style=color:#1f2328>fooId</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>isBarId</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>barId</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>barId</span> <span style=color:#cf222e>is</span> <span style=color:#1f2328>BarId</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>barId</span><span style=color:#1f2328>.</span><span style=color:#1f2328>startsWith</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;BAR_&#39;</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>process</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>fooId</span>: <span style=color:#cf222e>FooId</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>barId</span>: <span style=color:#cf222e>BarId</span><span style=color:#1f2328>)</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>{</span> <span style=color:#57606a>/* ... */</span> <span style=color:#1f2328>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#1f2328>process</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#39;asdf&#39;</span><span style=color:#1f2328>,</span> <span style=color:#0a3069>&#39;fdsa&#39;</span><span style=color:#1f2328>)</span> <span style=color:#57606a>// Error
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>maybeFooId</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>&#39;deadbeef&#39;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>maybeBarId</span> <span style=color:#0550ae>=</span> <span style=color:#0a3069>&#39;BAR_bar&#39;</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>if</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>isFooId</span><span style=color:#1f2328>(</span><span style=color:#1f2328>maybeFooId</span><span style=color:#1f2328>)</span> <span style=color:#0550ae>&amp;&amp;</span> <span style=color:#1f2328>isBarId</span><span style=color:#1f2328>(</span><span style=color:#1f2328>maybeBarId</span><span style=color:#1f2328>))</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>process</span><span style=color:#1f2328>(</span><span style=color:#1f2328>maybeBarId</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>maybeFooId</span><span style=color:#1f2328>)</span> <span style=color:#57606a>// Error
</span></span></span><span style=display:flex><span><span style=color:#57606a></span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>process</span><span style=color:#1f2328>(</span><span style=color:#1f2328>maybeFooId</span><span style=color:#1f2328>,</span> <span style=color:#1f2328>maybeBarId</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div></div></body></html>