<!doctype html><html lang=en><head><meta charset=utf-8><title>Nominal Types</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/favicon-32.png sizes=32x32><link rel=apple-touch-icon href=/images/favicon-180.png sizes=180x180><link rel=stylesheet href=/css/main.css></head><body><div class=main><p><a href=/>home</a></p><h1>Nominal Types</h1><p>TypeScript uses structural subtyping.
This means that any type that fits the shape of a different type is compatible.
When using nominal types, on the other hand, two types are considered distinct and incompatible types
even if they have the same underlying representation.</p><p>Here is a reasonably readable and usable way to have a form of nominal types in TypeScript:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#000;font-weight:700>type</span> FooId <span style=color:#000;font-weight:700>=</span> <span style=color:#458;font-weight:700>string</span> <span style=color:#000;font-weight:700>&amp;</span> { __tag<span style=color:#000;font-weight:700>:</span> <span style=color:#d14>&#39;FooId&#39;</span> }
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>type</span> BarId <span style=color:#000;font-weight:700>=</span> <span style=color:#458;font-weight:700>string</span> <span style=color:#000;font-weight:700>&amp;</span> { __tag<span style=color:#000;font-weight:700>:</span> <span style=color:#d14>&#39;BarId&#39;</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> isFooId <span style=color:#000;font-weight:700>=</span> (fooId: <span style=color:#458;font-weight:700>string</span>)<span style=color:#000;font-weight:700>:</span> fooId <span style=color:#000;font-weight:700>is</span> FooId <span style=color:#000;font-weight:700>=&gt;</span> <span style=color:#009926>/^[0-9a-f]{8}$/</span>.test(fooId)
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> isBarId <span style=color:#000;font-weight:700>=</span> (barId: <span style=color:#458;font-weight:700>string</span>)<span style=color:#000;font-weight:700>:</span> barId <span style=color:#000;font-weight:700>is</span> BarId <span style=color:#000;font-weight:700>=&gt;</span> barId.startsWith(<span style=color:#d14>&#39;BAR_&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> process <span style=color:#000;font-weight:700>=</span> (fooId: <span style=color:#458;font-weight:700>FooId</span>, barId: <span style=color:#458;font-weight:700>BarId</span>) <span style=color:#000;font-weight:700>=&gt;</span> { <span style=color:#998;font-style:italic>/* ... */</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>process(<span style=color:#d14>&#39;asdf&#39;</span>, <span style=color:#d14>&#39;fdsa&#39;</span>) <span style=color:#998;font-style:italic>// Error
</span></span></span><span style=display:flex><span><span style=color:#998;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> maybeFooId <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;deadbeef&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>const</span> maybeBarId <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;BAR_bar&#39;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>if</span> (isFooId(maybeFooId) <span style=color:#000;font-weight:700>&amp;&amp;</span> isBarId(maybeBarId)) {
</span></span><span style=display:flex><span>  process(maybeBarId, maybeFooId) <span style=color:#998;font-style:italic>// Error
</span></span></span><span style=display:flex><span><span style=color:#998;font-style:italic></span>
</span></span><span style=display:flex><span>  process(maybeFooId, maybeBarId)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></body></html>