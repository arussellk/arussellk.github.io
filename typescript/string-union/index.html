<!doctype html><html lang=en><head><meta charset=utf-8><title>String Union Runtime Validation and Iteration</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/favicon-32.png sizes=32x32><link rel=apple-touch-icon href=/images/favicon-180.png sizes=180x180><link rel=stylesheet href=/css/main.css></head><body><div class=main><p><a href=/>home</a></p><h1>String Union Runtime Validation and Iteration</h1><p>TypeScript types are removed by the compiler while producing JavaScript.
This is fine much of the time within your system, but sometimes you need to validate user input or
requests from external systems.
One way to have both runtime validation and compile time types is to derive a string union type from
an array.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>foos</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>[</span>
</span></span><span style=display:flex><span>  <span style=color:#0a3069>&#39;bar&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span>  <span style=color:#0a3069>&#39;baz&#39;</span><span style=color:#1f2328>,</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>]</span> <span style=color:#cf222e>as</span> <span style=color:#cf222e>const</span>
</span></span><span style=display:flex><span><span style=color:#cf222e>type</span> <span style=color:#1f2328>Foo</span> <span style=color:#0550ae>=</span> <span style=color:#cf222e>typeof</span> <span style=color:#1f2328>foos</span><span style=color:#1f2328>[</span><span style=color:#cf222e>number</span><span style=color:#1f2328>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>const</span> <span style=color:#1f2328>isFoo</span> <span style=color:#0550ae>=</span> <span style=color:#1f2328>(</span><span style=color:#1f2328>x</span>: <span style=color:#cf222e>string</span><span style=color:#1f2328>)</span><span style=color:#0550ae>:</span> <span style=color:#1f2328>x</span> <span style=color:#cf222e>is</span> <span style=color:#1f2328>Foo</span> <span style=color:#0550ae>=&gt;</span> <span style=color:#1f2328>foos</span><span style=color:#1f2328>.</span><span style=color:#1f2328>includes</span><span style=color:#1f2328>(</span><span style=color:#1f2328>x</span> <span style=color:#cf222e>as</span> <span style=color:#1f2328>Foo</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#cf222e>for</span> <span style=color:#1f2328>(</span><span style=color:#cf222e>const</span> <span style=color:#1f2328>foo</span> <span style=color:#cf222e>of</span> <span style=color:#1f2328>foos</span><span style=color:#1f2328>)</span> <span style=color:#1f2328>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1f2328>console</span><span style=color:#1f2328>.</span><span style=color:#1f2328>log</span><span style=color:#1f2328>(</span><span style=color:#1f2328>foo</span><span style=color:#1f2328>)</span>
</span></span><span style=display:flex><span><span style=color:#1f2328>}</span>
</span></span></code></pre></div></div></body></html>